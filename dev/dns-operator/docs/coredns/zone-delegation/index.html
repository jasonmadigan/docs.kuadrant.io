
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.kuadrant.io/dev/dns-operator/docs/coredns/zone-delegation/">
      
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Zone Delegation for CoreDNS - Kuadrant Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../../assets/asciidoc.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#zone-delegation-for-coredns" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  These docs are not for the latest version.
  <a href="../../../../.."> 
    <strong>Click here to go to latest, stable docs.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Kuadrant Documentation" class="md-header__button md-logo" aria-label="Kuadrant Documentation" data-md-component="logo">
      
  <img src="../../../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kuadrant Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Zone Delegation for CoreDNS
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/kuadrant/docs.kuadrant.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Kuadrant Documentation" class="md-nav__button md-logo" aria-label="Kuadrant Documentation" data-md-component="logo">
      
  <img src="../../../../assets/images/logo.png" alt="logo">

    </a>
    Kuadrant Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kuadrant/docs.kuadrant.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../install-helm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install with Helm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../install-olm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install with OLM
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../architecture/docs/design/architectural-overview-v1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/overviews/auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AuthPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/overviews/dns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DNSPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/overviews/rate-limiting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RateLimitPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/overviews/tls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TLSPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/overviews/token-rate-limiting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TokenRateLimitPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/overviews/telemetrypolicy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelemetryPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/extensions/planpolicy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PlanPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9" >
        
          
          <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CEL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            CEL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/cel/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/cel/standard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standard library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/cel/extensions/optional/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optional type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/cel/extensions/strings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    String extensions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    APIs & Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            APIs & Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/reference/authpolicy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AuthPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/reference/dnspolicy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DNSPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/reference/ratelimitpolicy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RateLimitPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/reference/tlspolicy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TLSPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/reference/tokenratelimitpolicy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TokenRateLimitPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/reference/kuadrant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kuadrant
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Observability
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            Observability
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/observability/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../authorino/docs/user-guides/observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication and Authorization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/reference/telemetrypolicy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TelemetryPolicy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/full-walkthrough/secure-protect-connect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Secure, connect and protect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/tls/gateway-tls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gateway TLS for Cluster Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/auth/auth-for-app-devs-and-platform-engineers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforcing authentication & authorization with Kuadrant AuthPolicy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/ratelimiting/gateway-rl-for-cluster-operators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gateway Rate Limiting for Cluster Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/ratelimiting/authenticated-rl-for-app-developers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authenticated Rate Limiting for Application Developers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/ratelimiting/authenticated-rl-with-jwt-and-k8s-authnz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authenticated Rate Limiting with JWTs and Kubernetes RBAC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/ratelimiting/multi-auth-rlp-diff-section/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gateway Rate Limiting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/ratelimiting/multi-auth-rlp-same-section/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multi authenticated Rate Limiting for an Application
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/tokenratelimitpolicy/authenticated-token-ratelimiting-tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authenticated Token Rate Limiting for Large Language Model APIs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/planpolicy/plan-based-rate-limiting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plan-based Rate Limiting with PlanPolicy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DNS configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            DNS configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring a DNS Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/dns/gateway-dns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gateway DNS for ingress Gateway
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/dns/basic-dns-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic DNS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/dns/load-balanced-dns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DNS Load Balancing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/dns/dnshealthchecks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Health Checks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/dns/core-dns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CoreDNS Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/dns/understanding_dns_delegation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster Aware DNSRecord Delegation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1_8" >
        
          
          <label class="md-nav__link" for="__nav_7_1_8" id="__nav_7_1_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DNS Fail-over
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1_8">
            <span class="md-nav__icon md-icon"></span>
            DNS Fail-over
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrating_existing_clusters_to_use_groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating Existing Clusters To Use Groups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exercising_dns_failover_via_groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercising DNS Fail-over via Groups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrating_away_from_dns_groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating Away From DNS Groups
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/install/mtls-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mTLS Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Observability
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Observability
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/observability/monitors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure Observability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/observability/examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dashboards and Alerts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/observability/tracing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tracing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/observability/envoy-access-logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Envoy Access Logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/observability/limitador-metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring Limitador
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-operator/doc/user-guides/observability/token-metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring AI Token Metrics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Portal
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Developer Portal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-backstage-plugin/docs/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-backstage-plugin/docs/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../kuadrant-backstage-plugin/docs/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer-portal-controller/docs/references/apiproduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APIProduct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../developer-portal-controller/docs/references/apikey/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APIKey
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MCP Gateway
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            MCP Gateway
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/design/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/how-to-install-and-configure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_4" >
        
          
          <label class="md-nav__link" for="__nav_9_4" id="__nav_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/configure-mcp-gateway-listener-and-router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Listener and Router
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_5" >
        
          
          <label class="md-nav__link" for="__nav_9_5" id="__nav_9_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MCP Servers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_5">
            <span class="md-nav__icon md-icon"></span>
            MCP Servers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/register-mcp-servers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MCP Server Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/virtual-mcp-servers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual MCP Servers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/external-mcp-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    External MCP Servers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_6" >
        
          
          <label class="md-nav__link" for="__nav_9_6" id="__nav_9_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Security
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_6">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/authorization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authorization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/vault-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vault Integration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_7" >
        
          
          <label class="md-nav__link" for="__nav_9_7" id="__nav_9_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Support
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_7">
            <span class="md-nav__icon md-icon"></span>
            Support
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp-gateway/docs/guides/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dns-query-flags-used-in-this-guide" class="md-nav__link">
    <span class="md-ellipsis">
      DNS Query Flags Used in This Guide
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bind9-deployment-overview" class="md-nav__link">
    <span class="md-ellipsis">
      BIND9 Deployment Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-verify-bind9-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Verify BIND9 Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-identify-coredns-instances" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Identify CoreDNS Instances
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-delegate-zone-to-coredns" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Delegate Zone to CoreDNS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 3: Delegate Zone to CoreDNS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-the-delegation" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding the Delegation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-nsupdate-file" class="md-nav__link">
    <span class="md-ellipsis">
      Generate nsupdate File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apply-the-update" class="md-nav__link">
    <span class="md-ellipsis">
      Apply the Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-zone-delegation" class="md-nav__link">
    <span class="md-ellipsis">
      Verify Zone Delegation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-test-delegation-with-dnsrecord" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Test Delegation with DNSRecord
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-configure-in-cluster-dns-forwarding-optional" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Configure In-Cluster DNS Forwarding (Optional)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 5: Configure In-Cluster DNS Forwarding (Optional)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-cluster-coredns-forwarder" class="md-nav__link">
    <span class="md-ellipsis">
      Update Cluster CoreDNS Forwarder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-in-cluster-dns-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      Verify In-Cluster DNS Resolution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-configure-dns-groups-active-groups-resolution-optional" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6: Configure DNS Groups Active-Groups Resolution (Optional)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 6: Configure DNS Groups Active-Groups Resolution (Optional)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-active-groups-txt-record" class="md-nav__link">
    <span class="md-ellipsis">
      Add Active-Groups TXT Record
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-rewrite-rule-to-kuadrant-coredns" class="md-nav__link">
    <span class="md-ellipsis">
      Add Rewrite Rule to Kuadrant CoreDNS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify" class="md-nav__link">
    <span class="md-ellipsis">
      Verify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Additional Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-new-ddns-key" class="md-nav__link">
    <span class="md-ellipsis">
      Generate New DDNS Key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitor-all-dns-logs" class="md-nav__link">
    <span class="md-ellipsis">
      Monitor All DNS Logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-bind9-configuration-files" class="md-nav__link">
    <span class="md-ellipsis">
      Verify BIND9 Configuration Files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nsupdate-fails-with-update-failed-notauth" class="md-nav__link">
    <span class="md-ellipsis">
      nsupdate Fails with "update failed: NOTAUTH"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dig-shows-servfail-for-delegated-zone" class="md-nav__link">
    <span class="md-ellipsis">
      dig Shows SERVFAIL for Delegated Zone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coredns-not-serving-dnsrecord" class="md-nav__link">
    <span class="md-ellipsis">
      CoreDNS Not Serving DNSRecord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pods-cant-resolve-examplecom-records" class="md-nav__link">
    <span class="md-ellipsis">
      Pods Can't Resolve example.com Records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#active-groups-txt-record-returns-nxdomain" class="md-nav__link">
    <span class="md-ellipsis">
      Active-Groups TXT Record Returns NXDOMAIN
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Related Documentation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/kuadrant/dns-operator/blob/main/docs/coredns/zone-delegation.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="zone-delegation-for-coredns">Zone Delegation for CoreDNS<a class="headerlink" href="#zone-delegation-for-coredns" title="Permanent link">&para;</a></h1>
<p>This guide explains how to set up parent zone delegation to enable CoreDNS to serve as an authoritative DNS server for a subdomain. This pattern is commonly used in development environments and scenarios where you want to delegate a subdomain (e.g., <code>k.example.com</code>) to CoreDNS while maintaining the parent zone (<code>example.com</code>) in a traditional authoritative DNS server.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p><strong>Zone delegation</strong> is a DNS pattern where a parent zone delegates authority for a subdomain to a different set of nameservers. In this setup:</p>
<ul>
<li><strong>Parent Zone</strong> (<code>example.com</code>): Managed by an authoritative DNS server (BIND9, PowerDNS, cloud provider, etc.)</li>
<li><strong>Delegated Zone</strong> (<code>k.example.com</code>): Managed by CoreDNS with the Kuadrant plugin</li>
</ul>
<p><strong>This guide uses BIND9 as the example authoritative DNS server</strong>, but the same delegation pattern applies to any DNS server that supports:</p>
<ul>
<li>Dynamic DNS updates (nsupdate/RFC 2136)</li>
<li>Zone transfers (AXFR)</li>
<li>NS record delegation</li>
</ul>
<p>Alternative servers include: PowerDNS, Knot DNS, NSD, Unbound, or cloud provider DNS services (Route53, Cloud DNS, Azure DNS).</p>
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#overview">Overview</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#bind9-deployment-overview">BIND9 Deployment Overview</a></li>
<li><a href="#step-1-verify-bind9-installation">Step 1: Verify BIND9 Installation</a></li>
<li><a href="#step-2-identify-coredns-instances">Step 2: Identify CoreDNS Instances</a></li>
<li><a href="#step-3-delegate-zone-to-coredns">Step 3: Delegate Zone to CoreDNS</a></li>
<li><a href="#step-4-test-delegation-with-dnsrecord">Step 4: Test Delegation with DNSRecord</a></li>
<li><a href="#step-5-configure-in-cluster-dns-forwarding-optional">Step 5: Configure In-Cluster DNS Forwarding (Optional)</a></li>
<li><a href="#step-6-configure-dns-groups-active-groups-resolution-optional">Step 6: Configure DNS Groups Active-Groups Resolution (Optional)</a></li>
<li><a href="#additional-commands">Additional Commands</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#related-documentation">Related Documentation</a></li>
</ol>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>Important</strong>: All commands in this guide should be run from the <strong>dns-operator repository root directory</strong> unless otherwise specified. File paths like <code>config/bind9/ddns.key</code> and <code>coredns/examples/</code> are relative to this root.</p>
</blockquote>
<p>Before starting, ensure you have:</p>
<ol>
<li><strong>Local Kind cluster with CoreDNS and BIND9 deployed</strong>:
   <div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>make<span class="w"> </span>local-setup
</span></code></pre></div>
   This installs:</li>
<li>Kind cluster with MetalLB (for LoadBalancer IP assignment)</li>
<li>CoreDNS with Kuadrant plugin in <code>kuadrant-coredns</code> namespace</li>
<li>BIND9 authoritative DNS server in <code>kuadrant-bind9</code> namespace</li>
</ol>
<blockquote>
<p><strong>Important</strong>: MetalLB is required for Kind clusters to assign external IPs to LoadBalancer services. Without it, BIND9 and CoreDNS services would remain in "Pending" state and not receive IPs for DNS queries. The IP range assigned depends on your Kind cluster's Docker network configuration (typically <code>172.18.x.x</code> range).</p>
</blockquote>
<ol>
<li><strong>Required tools</strong>:</li>
<li><code>kubectl</code> - Kubernetes CLI</li>
<li><code>dig</code> - DNS query tool (BIND utilities)</li>
<li><code>nsupdate</code> - Dynamic DNS update tool (BIND utilities)</li>
<li>
<p><code>jq</code> - JSON processor</p>
</li>
<li>
<p><strong>Understanding of</strong>:</p>
</li>
<li>DNS delegation concepts (NS records, glue records)</li>
<li>Kubernetes Services and LoadBalancer types</li>
<li>Basic DNS query tools (dig, nsupdate)</li>
</ol>
<h3 id="dns-query-flags-used-in-this-guide">DNS Query Flags Used in This Guide<a class="headerlink" href="#dns-query-flags-used-in-this-guide" title="Permanent link">&para;</a></h3>
<p>Throughout this guide, we use <code>dig</code> commands with various flags. Here's what they mean:</p>
<ul>
<li><strong><code>+short</code></strong> - Display only the answer section (minimal output)</li>
<li><strong><code>+norec</code></strong> - Non-recursive query (query the server directly without recursion, used for authoritative answers)</li>
<li><strong><code>-t AXFR</code></strong> - Request a zone transfer (list all records in a zone)</li>
<li><strong><code>-k &lt;keyfile&gt;</code></strong> - Use TSIG key authentication (required for authenticated operations)</li>
<li><strong><code>@&lt;server&gt;</code></strong> - Query a specific DNS server instead of the default resolver</li>
</ul>
<p><strong>Example patterns:</strong>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Query for minimal output</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>api.k.example.com<span class="w"> </span>+short
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Query authoritative server directly (no recursion)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>soa<span class="w"> </span>example.com<span class="w"> </span>+norec
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># Transfer entire zone with authentication</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>-k<span class="w"> </span>config/bind9/ddns.key<span class="w"> </span>-t<span class="w"> </span>AXFR<span class="w"> </span>example.com
</span></code></pre></div></p>
<h2 id="bind9-deployment-overview">BIND9 Deployment Overview<a class="headerlink" href="#bind9-deployment-overview" title="Permanent link">&para;</a></h2>
<p>The <code>make local-setup</code> command deploys BIND9 with the following configuration:</p>
<p><strong>Service</strong>: <code>kuadrant-bind9</code> in namespace <code>kuadrant-bind9</code></p>
<ul>
<li><strong>Type</strong>: LoadBalancer (provides external IP for DNS queries)</li>
<li><strong>Ports</strong>: 53 (TCP/UDP)  1053 (container port)</li>
<li><strong>Purpose</strong>: Acts as authoritative DNS server for <code>example.com</code> zone</li>
</ul>
<p><strong>Initial Zone</strong>: <code>example.com</code></p>
<ul>
<li>Pre-configured with SOA and NS records</li>
<li>Allows dynamic updates via TSIG key authentication</li>
<li>Supports zone transfers (AXFR) for verification</li>
</ul>
<p><strong>TSIG Key</strong>: <code>config/bind9/ddns.key</code></p>
<ul>
<li>Provides authenticated dynamic DNS updates</li>
<li>Required for nsupdate commands</li>
<li>Algorithm: HMAC-SHA256</li>
</ul>
<h2 id="step-1-verify-bind9-installation">Step 1: Verify BIND9 Installation<a class="headerlink" href="#step-1-verify-bind9-installation" title="Permanent link">&para;</a></h2>
<p>Check that BIND9 is running:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>deployments<span class="w"> </span>-l<span class="w"> </span>app.kubernetes.io/name<span class="o">=</span>bind9<span class="w"> </span>-A
</span></code></pre></div>
<p><strong>Expected output</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>NAMESPACE        NAME   READY   UP-TO-DATE   AVAILABLE   AGE
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>kuadrant-bind9   edge   1/1     1            1           22s
</span></code></pre></div></p>
<blockquote>
<p><strong>Note</strong>: The label selector <code>app.kubernetes.io/name=bind9</code> works even though the deployment.yaml shows <code>app: edge</code> because Kustomize applies common labels during deployment (see <code>config/bind9/kustomization.yaml</code>). The actual deployment gets both labels applied.</p>
</blockquote>
<p>Retrieve the BIND9 LoadBalancer IP (external DNS server address):</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nv">EDGE_NS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>service/kuadrant-bind9<span class="w"> </span>-n<span class="w"> </span>kuadrant-bind9<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.status.loadBalancer.ingress[0].ip}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;BIND9 DNS Server: </span><span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<p>Verify the <code>example.com</code> zone exists by querying the SOA record:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>soa<span class="w"> </span>example.com<span class="w"> </span>+norec
</span></code></pre></div>
<p><strong>Expected output</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>;; ANSWER SECTION:
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>example.com.            30      IN      SOA     example.com. root.example.com. 16 30 30 30 30
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>;; AUTHORITY SECTION:
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>example.com.            30      IN      NS      ns.example.com.
</span></code></pre></div></p>
<p>The <code>+norec</code> flag prevents recursion, ensuring we query BIND9 directly as an authoritative server.</p>
<h2 id="step-2-identify-coredns-instances">Step 2: Identify CoreDNS Instances<a class="headerlink" href="#step-2-identify-coredns-instances" title="Permanent link">&para;</a></h2>
<p>List all CoreDNS instances running in the cluster:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>service<span class="w"> </span>-A<span class="w"> </span><span class="se">\</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span>-l<span class="w"> </span>app.kubernetes.io/name<span class="o">=</span>coredns,app.kubernetes.io/component!<span class="o">=</span>metrics
</span></code></pre></div>
<p><strong>Expected output</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>NAMESPACE          NAME               TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                     AGE
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>kuadrant-coredns   kuadrant-coredns   LoadBalancer   10.96.242.254   172.18.0.16   53:31680/UDP,53:31680/TCP   31m
</span></code></pre></div></p>
<p><strong>Note</strong>: The <code>app.kubernetes.io/component!=metrics</code> label filter excludes metrics services, showing only DNS-serving instances.</p>
<p>Verify CoreDNS is configured to serve the <code>k.example.com</code> zone by checking logs:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>kubectl<span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span>kuadrant-coredns<span class="w"> </span>deployment/kuadrant-coredns<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span>grep<span class="w"> </span><span class="s2">&quot;Starting informer&quot;</span>
</span></code></pre></div>
<p><strong>Expected log output</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>[INFO] plugin/kuadrant: Starting informer 0 for zone k.example.com.
</span></code></pre></div></p>
<p>Get the CoreDNS LoadBalancer IP (used for delegation):</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nv">CORE_NS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>service<span class="w"> </span>-A<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span>-l<span class="w"> </span>app.kubernetes.io/name<span class="o">=</span>coredns,app.kubernetes.io/component!<span class="o">=</span>metrics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.items[0].status.loadBalancer.ingress[0].ip}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;CoreDNS Server: </span><span class="si">${</span><span class="nv">CORE_NS</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<p><strong>Note</strong>: In multi-cluster scenarios, you would retrieve multiple IPs and create multiple NS records.</p>
<h2 id="step-3-delegate-zone-to-coredns">Step 3: Delegate Zone to CoreDNS<a class="headerlink" href="#step-3-delegate-zone-to-coredns" title="Permanent link">&para;</a></h2>
<h3 id="understanding-the-delegation">Understanding the Delegation<a class="headerlink" href="#understanding-the-delegation" title="Permanent link">&para;</a></h3>
<p>To delegate <code>k.example.com</code> to CoreDNS, we need to add two records to the parent zone (<code>example.com</code>):</p>
<ol>
<li><strong>NS Record</strong>: <code>k.example.com 300 IN NS ns1.k.example.com</code></li>
<li>
<p>Declares that <code>ns1.k.example.com</code> is authoritative for <code>k.example.com</code></p>
</li>
<li>
<p><strong>A Record (Glue Record)</strong>: <code>ns1.k.example.com 300 IN A &lt;CORE_NS&gt;</code></p>
</li>
<li>Provides the IP address of the CoreDNS server</li>
<li>Required because the nameserver is within the delegated zone (RFC 1034)</li>
</ol>
<p><strong>Without the glue record</strong>, recursive resolvers would have a circular dependency:</p>
<ul>
<li>To resolve <code>k.example.com</code>, query <code>ns1.k.example.com</code></li>
<li>To resolve <code>ns1.k.example.com</code>, query <code>k.example.com</code>  <strong>circular lookup</strong></li>
</ul>
<h3 id="generate-nsupdate-file">Generate nsupdate File<a class="headerlink" href="#generate-nsupdate-file" title="Permanent link">&para;</a></h3>
<p>Create a dynamic DNS update file:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nv">EDGE_NS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>service/kuadrant-bind9<span class="w"> </span>-n<span class="w"> </span>kuadrant-bind9<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.status.loadBalancer.ingress[0].ip}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nv">CORE_NS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>service<span class="w"> </span>-A<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">  </span>-l<span class="w"> </span>app.kubernetes.io/name<span class="o">=</span>coredns,app.kubernetes.io/component!<span class="o">=</span>metrics<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.items[0].status.loadBalancer.ingress[0].ip}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>cat<span class="w"> </span><span class="s">&lt;&lt;EOF &gt;nsupdate-k-example-com</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="s">server ${EDGE_NS}</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="s">debug yes</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="s">zone example.com.</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="s">update add k.example.com 300 IN NS ns1.k.example.com</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="s">update add ns1.k.example.com 300 IN A ${CORE_NS}</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="s">send</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="s">EOF</span>
</span></code></pre></div>
<p><strong>Verify the generated file</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>cat<span class="w"> </span>nsupdate-k-example-com
</span></code></pre></div>
<p><strong>Example output</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>server 172.18.0.17
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>debug yes
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>zone example.com.
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>update add k.example.com 300 IN NS ns1.k.example.com
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>update add ns1.k.example.com 300 IN A 172.18.0.16
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>send
</span></code></pre></div></p>
<h3 id="apply-the-update">Apply the Update<a class="headerlink" href="#apply-the-update" title="Permanent link">&para;</a></h3>
<p>Use <code>nsupdate</code> with TSIG key authentication to apply the changes:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>nsupdate<span class="w"> </span>-k<span class="w"> </span>config/bind9/ddns.key<span class="w"> </span>-v<span class="w"> </span>nsupdate-k-example-com
</span></code></pre></div>
<p><strong>Expected output</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>Sending update to 172.18.0.17#53
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>Outgoing update query:
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>;; UPDATE SECTION:
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>k.example.com.          300     IN      NS      ns1.k.example.com.
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>ns1.k.example.com.      300     IN      A       172.18.0.16
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>Reply from update query:
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>;; -&gt;&gt;HEADER&lt;&lt;- opcode: UPDATE, status: NOERROR
</span></code></pre></div></p>
<h3 id="verify-zone-delegation">Verify Zone Delegation<a class="headerlink" href="#verify-zone-delegation" title="Permanent link">&para;</a></h3>
<p><strong>1. Verify via zone transfer (AXFR)</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>-k<span class="w"> </span>config/bind9/ddns.key<span class="w"> </span>-t<span class="w"> </span>AXFR<span class="w"> </span>example.com
</span></code></pre></div>
<p><strong>Expected output</strong> (showing the new delegation records):
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>example.com.            30      IN      SOA     example.com. root.example.com. 17 30 30 30 30
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>example.com.            30      IN      NS      ns.example.com.
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>k.example.com.          300     IN      NS      ns1.k.example.com.
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>ns1.k.example.com.      300     IN      A       172.18.0.16
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>ns.example.com.         30      IN      A       127.0.0.1
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>example.com.            30      IN      SOA     example.com. root.example.com. 17 30 30 30 30
</span></code></pre></div></p>
<p>The presence of the <code>k.example.com NS</code> and <code>ns1.k.example.com A</code> records confirms successful delegation.</p>
<p><strong>2. Verify SOA record of delegated zone</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>soa<span class="w"> </span>k.example.com
</span></code></pre></div>
<p><strong>Expected output</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>;; ANSWER SECTION:
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>k.example.com.          60      IN      SOA     ns1.k.example.com. hostmaster.k.example.com. 12345 7200 1800 86400 60
</span></code></pre></div></p>
<p>The SOA record should show <code>ns1.k.example.com</code> as the primary nameserver, confirming CoreDNS is responding authoritatively.</p>
<h2 id="step-4-test-delegation-with-dnsrecord">Step 4: Test Delegation with DNSRecord<a class="headerlink" href="#step-4-test-delegation-with-dnsrecord" title="Permanent link">&para;</a></h2>
<p>Create a test DNSRecord to verify end-to-end delegation:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># Run from the repository root directory</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>coredns/examples/dnsrecord-api-k-example-com_geo_weight.yaml
</span></code></pre></div>
<p><strong>Create the provider secret:</strong></p>
<p>The DNSRecord includes <code>providerRef: dns-provider-credentials-coredns</code>. For DNS Operator to reconcile this DNSRecord, the provider secret must exist in the namespace.</p>
<p><strong>Why the secret is required</strong>:</p>
<ul>
<li>DNS Operator uses the secret's <code>ZONES</code> field for zone matching (matching <code>rootHost</code> to an available zone)</li>
<li>After zone matching succeeds, DNS Operator applies the <code>kuadrant.io/coredns-zone-name</code> label</li>
<li>CoreDNS plugin watches for this label and serves the DNSRecord</li>
<li>Without the secret, DNS Operator reconciliation will fail even if you manually apply the label</li>
</ul>
<p>Create the provider secret:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>dns-provider-credentials-coredns<span class="w"> </span>-n<span class="w"> </span>dnstest<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span>--type<span class="o">=</span>kuadrant.io/coredns<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">  </span>--from-literal<span class="o">=</span><span class="nv">ZONES</span><span class="o">=</span><span class="s2">&quot;k.example.com&quot;</span>
</span></code></pre></div>
<p>DNS Operator will automatically apply the zone label within a few seconds after the secret is created.</p>
<blockquote>
<p><strong>Note</strong>: For more details on provider secrets, zone matching, and automatic vs manual labeling scenarios, see <a href="../configuration/#provider-secret-configuration">Provider Secret Configuration</a>.</p>
</blockquote>
<p>Query the delegated DNS record via BIND9:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>api.k.example.com<span class="w"> </span>+short
</span></code></pre></div>
<p><strong>Expected output</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>klb.api.k.example.com.
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>geo-us.klb.api.k.example.com.
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>cluster1.klb.api.k.example.com.
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>127.0.0.1
</span></code></pre></div></p>
<p>This output shows:</p>
<ol>
<li>BIND9 received the query for <code>api.k.example.com</code></li>
<li>BIND9 delegated to CoreDNS (<code>ns1.k.example.com</code>)</li>
<li>CoreDNS returned the CNAME chain and IP address</li>
<li>The delegation is working correctly</li>
</ol>
<h2 id="step-5-configure-in-cluster-dns-forwarding-optional">Step 5: Configure In-Cluster DNS Forwarding (Optional)<a class="headerlink" href="#step-5-configure-in-cluster-dns-forwarding-optional" title="Permanent link">&para;</a></h2>
<p>This step enables pods running <strong>inside the cluster</strong> to resolve DNS records via the BIND9 edge server. This is useful for:</p>
<ul>
<li>Testing DNS Groups active-passive failover</li>
<li>Simulating external DNS resolution from inside the cluster</li>
<li>Resolving external TXT records (e.g., <code>kuadrant-active-groups.example.com</code>)</li>
</ul>
<h3 id="update-cluster-coredns-forwarder">Update Cluster CoreDNS Forwarder<a class="headerlink" href="#update-cluster-coredns-forwarder" title="Permanent link">&para;</a></h3>
<p>Get the BIND9 <strong>ClusterIP</strong> (in-cluster service address):</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nv">CLUSTER_EDGE_NS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>service/kuadrant-bind9<span class="w"> </span>-n<span class="w"> </span>kuadrant-bind9<span class="w"> </span><span class="se">\</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.spec.clusterIP}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;BIND9 ClusterIP: </span><span class="si">${</span><span class="nv">CLUSTER_EDGE_NS</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<p><strong>Note</strong>: We use <code>clusterIP</code> (not LoadBalancer <code>ingress</code> IP) because pods communicate with Services via internal Kubernetes networking.</p>
<p>Retrieve the current kube-system CoreDNS Corefile:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>configmap/coredns<span class="w"> </span>-n<span class="w"> </span>kube-system<span class="w"> </span><span class="se">\</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.data.Corefile}&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>kube.Corefile
</span></code></pre></div>
<p>Prepend <code>example.com</code> zone forwarding to the Corefile:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nv">ZONE</span><span class="o">=</span>example.com
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>cat<span class="w"> </span><span class="s">&lt;&lt;EOF | cat - kube.Corefile &gt; /tmp/kube.Corefile.new &amp;&amp; mv /tmp/kube.Corefile.new kube.Corefile</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="s">${ZONE}:53 {</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="s">    forward . ${CLUSTER_EDGE_NS}</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="s">}</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="s">EOF</span>
</span></code></pre></div>
<p><strong>Review the updated Corefile</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>cat<span class="w"> </span>kube.Corefile
</span></code></pre></div>
<p><strong>Expected output</strong> (showing the new zone block at the top):
<div class="language-text highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>example.com:53 {
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>    forward . 10.96.123.45
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>}
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>.:53 {
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>    errors
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>    health
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>    ...
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>}
</span></code></pre></div></p>
<p>Apply the updated Corefile:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>kubectl<span class="w"> </span>create<span class="w"> </span>configmap<span class="w"> </span>coredns<span class="w"> </span>-n<span class="w"> </span>kube-system<span class="w"> </span><span class="se">\</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">  </span>--from-file<span class="o">=</span><span class="nv">Corefile</span><span class="o">=</span>kube.Corefile<span class="w"> </span>--dry-run<span class="o">=</span>client<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>-
</span></code></pre></div>
<h3 id="verify-in-cluster-dns-resolution">Verify In-Cluster DNS Resolution<a class="headerlink" href="#verify-in-cluster-dns-resolution" title="Permanent link">&para;</a></h3>
<p>Test that pods can resolve records via the edge server:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>kubectl<span class="w"> </span>run<span class="w"> </span>-n<span class="w"> </span>default<span class="w"> </span>dig<span class="w"> </span>--attach<span class="w"> </span>--rm<span class="w"> </span>--restart<span class="o">=</span>Never<span class="w"> </span><span class="se">\</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">  </span>--image<span class="o">=</span>docker.io/curlimages/curl:latest<span class="w"> </span><span class="se">\</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">  </span>--<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;apk add --no-cache bind-tools &amp;&amp; dig k.example.com NS +short&quot;</span>
</span></code></pre></div>
<p><strong>Expected output</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>ns1.k.example.com.
</span></code></pre></div></p>
<p><strong>Alternative verification using a long-running pod</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>kubectl<span class="w"> </span>run<span class="w"> </span>-n<span class="w"> </span>default<span class="w"> </span>test-dns<span class="w"> </span>--image<span class="o">=</span>docker.io/curlimages/curl:latest<span class="w"> </span><span class="se">\</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">  </span>--command<span class="w"> </span>--<span class="w"> </span>sleep<span class="w"> </span><span class="m">3600</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-n<span class="w"> </span>default<span class="w"> </span>test-dns<span class="w"> </span>--<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="se">\</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">  </span><span class="s2">&quot;apk add --no-cache bind-tools &amp;&amp; dig k.example.com NS +short&quot;</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>kubectl<span class="w"> </span>delete<span class="w"> </span>pod<span class="w"> </span>-n<span class="w"> </span>default<span class="w"> </span>test-dns
</span></code></pre></div>
<p><strong>Note</strong>: We replaced the <code>toolbelt/dig</code> image with <code>curlimages/curl</code> (a well-maintained, official image) and install <code>bind-tools</code> for DNS utilities.</p>
<h2 id="step-6-configure-dns-groups-active-groups-resolution-optional">Step 6: Configure DNS Groups Active-Groups Resolution (Optional)<a class="headerlink" href="#step-6-configure-dns-groups-active-groups-resolution-optional" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>For complete DNS Groups documentation</strong>, see the <a href="../configuration/#dns-groups-configuration">DNS Groups Configuration</a> section, which covers:
- What DNS Groups are and how active-passive failover works
- Configuring DNS Operator with group identifiers
- Creating and managing active groups TXT records</p>
<p><strong>For failover procedures</strong>, see <a href="../../exercising_dns_failover_via_groups/">Exercising DNS Failover via Groups</a></p>
</blockquote>
<p><strong>Prerequisites for this step:</strong></p>
<ul>
<li>Understanding of DNS Groups concept (see link above)</li>
<li>DNS Operator configured with <code>GROUP</code> environment variable or <code>--group</code> flag</li>
<li>Step 5 completed (in-cluster DNS forwarding configured)</li>
</ul>
<p><strong>What's different for BIND9 delegation</strong>: With parent zone delegation, the active-groups TXT record lives in the parent zone (<code>example.com</code>) rather than an external DNS provider. DNS Operator queries <code>kuadrant-active-groups.k.example.com</code>, so we need kuadrant-coredns to rewrite this to <code>k.kuadrant-active-groups.example.com</code> and forward to BIND9.</p>
<h3 id="add-active-groups-txt-record">Add Active-Groups TXT Record<a class="headerlink" href="#add-active-groups-txt-record" title="Permanent link">&para;</a></h3>
<p><strong>For BIND9 (local development)</strong>, use nsupdate:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nv">EDGE_NS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>service/kuadrant-bind9<span class="w"> </span>-n<span class="w"> </span>kuadrant-bind9<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.status.loadBalancer.ingress[0].ip}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>cat<span class="w"> </span><span class="s">&lt;&lt;EOF &gt;nsupdate-active-groups</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="s">server ${EDGE_NS}</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="s">zone example.com.</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="s">update add k.kuadrant-active-groups.example.com 300 TXT &quot;version=1;groups=primary-us-east&quot;</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="s">send</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="s">EOF</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>nsupdate<span class="w"> </span>-k<span class="w"> </span>config/bind9/ddns.key<span class="w"> </span>-v<span class="w"> </span>nsupdate-active-groups
</span></code></pre></div>
<p><strong>For production (cloud DNS providers)</strong>, use the DNS CLI instead:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1"># Build the CLI (run once)</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>make<span class="w"> </span>build-cli
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="c1"># Add active group using DNS CLI</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>kubectl-kuadrant_dns<span class="w"> </span>add-active-group<span class="w"> </span>primary-us-east<span class="w"> </span><span class="se">\</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">  </span>--providerRef<span class="w"> </span>&lt;namespace&gt;/&lt;secret-name&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">  </span>--domain<span class="w"> </span>&lt;your-domain&gt;
</span></code></pre></div>
<p>Where <code>&lt;secret-name&gt;</code> is your AWS/GCP/Azure provider secret. The CLI automatically creates the TXT record in the correct format and handles multiple zones.</p>
<h3 id="add-rewrite-rule-to-kuadrant-coredns">Add Rewrite Rule to Kuadrant CoreDNS<a class="headerlink" href="#add-rewrite-rule-to-kuadrant-coredns" title="Permanent link">&para;</a></h3>
<p>Add a rewrite rule to the kuadrant-coredns Corefile using the same pattern from Step 5:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nv">CLUSTER_EDGE_NS</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>service/kuadrant-bind9<span class="w"> </span>-n<span class="w"> </span>kuadrant-bind9<span class="w"> </span><span class="se">\</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.spec.clusterIP}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>kubectl<span class="w"> </span>get<span class="w"> </span>configmap/kuadrant-coredns<span class="w"> </span>-n<span class="w"> </span>kuadrant-coredns<span class="w"> </span><span class="se">\</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.data.Corefile}&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>kuadrant.Corefile
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>cat<span class="w"> </span><span class="s">&lt;&lt;EOF | cat - kuadrant.Corefile &gt; /tmp/kuadrant.Corefile.new &amp;&amp; mv /tmp/kuadrant.Corefile.new kuadrant.Corefile</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="s">kuadrant-active-groups.k.example.com {</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="s">    rewrite name exact kuadrant-active-groups.k.example.com k.kuadrant-active-groups.example.com</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="s">    forward . ${CLUSTER_EDGE_NS}</span>
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="s">}</span>
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="s">EOF</span>
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>
</span><span id="__span-36-14"><a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>kubectl<span class="w"> </span>create<span class="w"> </span>configmap<span class="w"> </span>kuadrant-coredns<span class="w"> </span>-n<span class="w"> </span>kuadrant-coredns<span class="w"> </span><span class="se">\</span>
</span><span id="__span-36-15"><a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="w">  </span>--from-file<span class="o">=</span><span class="nv">Corefile</span><span class="o">=</span>kuadrant.Corefile<span class="w"> </span>--dry-run<span class="o">=</span>client<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>-
</span><span id="__span-36-16"><a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a>
</span><span id="__span-36-17"><a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a>kubectl<span class="w"> </span>rollout<span class="w"> </span>restart<span class="w"> </span>-n<span class="w"> </span>kuadrant-coredns<span class="w"> </span>deployment/kuadrant-coredns
</span></code></pre></div>
<h3 id="verify">Verify<a class="headerlink" href="#verify" title="Permanent link">&para;</a></h3>
<p>Test that DNS Groups active-groups resolution works:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>kubectl<span class="w"> </span>run<span class="w"> </span>-n<span class="w"> </span>default<span class="w"> </span>dig-test<span class="w"> </span>--attach<span class="w"> </span>--rm<span class="w"> </span>--restart<span class="o">=</span>Never<span class="w"> </span><span class="se">\</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w">  </span>--image<span class="o">=</span>docker.io/curlimages/curl:latest<span class="w"> </span><span class="se">\</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">  </span>--<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;apk add --no-cache bind-tools &amp;&amp; dig kuadrant-active-groups.k.example.com TXT +short&quot;</span>
</span></code></pre></div>
<p><strong>Expected</strong>: <code>"version=1;groups=primary-us-east"</code></p>
<h2 id="additional-commands">Additional Commands<a class="headerlink" href="#additional-commands" title="Permanent link">&para;</a></h2>
<h3 id="generate-new-ddns-key">Generate New DDNS Key<a class="headerlink" href="#generate-new-ddns-key" title="Permanent link">&para;</a></h3>
<p>If you need to regenerate the TSIG key:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>ddns-confgen<span class="w"> </span>-k<span class="w"> </span>example.com-key<span class="w"> </span>-z<span class="w"> </span>example.com.
</span></code></pre></div>
<p>This outputs configuration for both BIND9 named.conf and the key file.</p>
<h3 id="monitor-all-dns-logs">Monitor All DNS Logs<a class="headerlink" href="#monitor-all-dns-logs" title="Permanent link">&para;</a></h3>
<p>Tail logs from both CoreDNS and BIND9:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>kubectl<span class="w"> </span>stern<span class="w"> </span>-l<span class="w"> </span><span class="s1">&#39;app.kubernetes.io/name in (coredns, bind9)&#39;</span><span class="w"> </span>-A
</span></code></pre></div>
<p><strong>Note</strong>: Requires <a href="https://github.com/stern/stern">stern</a> to be installed.</p>
<h3 id="verify-bind9-configuration-files">Verify BIND9 Configuration Files<a class="headerlink" href="#verify-bind9-configuration-files" title="Permanent link">&para;</a></h3>
<p>The BIND9 deployment includes:</p>
<p><strong>Zone Configuration</strong> (<code>config/bind9/zone.yaml</code>):</p>
<ul>
<li>Defines <code>example.com</code> zone</li>
<li>Configures TSIG key for authentication</li>
<li>Allows dynamic updates and zone transfers</li>
</ul>
<p><strong>DDNS Key</strong> (<code>config/bind9/ddns.key</code>):</p>
<ul>
<li>TSIG key for authenticated updates</li>
<li>Algorithm: HMAC-SHA256</li>
<li>Used with <code>-k</code> flag in nsupdate and dig commands</li>
</ul>
<p><strong>Deployment</strong> (<code>config/bind9/deployment.yaml</code>):</p>
<ul>
<li>Runs BIND9 in namespace <code>kuadrant-bind9</code></li>
<li>Listens on container port 1053</li>
<li>Mounts zone configuration and DDNS key</li>
</ul>
<p><strong>Service</strong> (<code>config/bind9/service.yaml</code>):</p>
<ul>
<li>Type: LoadBalancer</li>
<li>Exposes port 53 (DNS standard)  1053 (container)</li>
<li>Provides external IP for DNS queries</li>
</ul>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="nsupdate-fails-with-update-failed-notauth">nsupdate Fails with "update failed: NOTAUTH"<a class="headerlink" href="#nsupdate-fails-with-update-failed-notauth" title="Permanent link">&para;</a></h3>
<p><strong>Cause</strong>: TSIG key authentication failed.</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>Verify key file path: <code>config/bind9/ddns.key</code></li>
<li>Ensure key name in file matches zone configuration: <code>example.com-key</code></li>
<li>Check that you're running from repository root</li>
</ul>
<h3 id="dig-shows-servfail-for-delegated-zone">dig Shows SERVFAIL for Delegated Zone<a class="headerlink" href="#dig-shows-servfail-for-delegated-zone" title="Permanent link">&para;</a></h3>
<p><strong>Cause</strong>: Delegation records not properly configured.</p>
<p><strong>Solution</strong>:</p>
<ol>
<li>
<p>Verify NS record exists:
   <div class="language-bash highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>k.example.com<span class="w"> </span>NS<span class="w"> </span>+short
</span></code></pre></div>
   Should return: <code>ns1.k.example.com.</code></p>
</li>
<li>
<p>Verify glue record exists:
   <div class="language-bash highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>ns1.k.example.com<span class="w"> </span>A<span class="w"> </span>+short
</span></code></pre></div>
   Should return CoreDNS LoadBalancer IP</p>
</li>
<li>
<p>Check zone transfer to see all records:
   <div class="language-bash highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>dig<span class="w"> </span>@<span class="si">${</span><span class="nv">EDGE_NS</span><span class="si">}</span><span class="w"> </span>-k<span class="w"> </span>config/bind9/ddns.key<span class="w"> </span>-t<span class="w"> </span>AXFR<span class="w"> </span>example.com
</span></code></pre></div></p>
</li>
</ol>
<h3 id="coredns-not-serving-dnsrecord">CoreDNS Not Serving DNSRecord<a class="headerlink" href="#coredns-not-serving-dnsrecord" title="Permanent link">&para;</a></h3>
<p><strong>Cause</strong>: Missing zone label on DNSRecord.</p>
<p><strong>Solution</strong>:
Add the label to tell CoreDNS to serve this record:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>kubectl<span class="w"> </span>label<span class="w"> </span>dnsrecords.kuadrant.io/&lt;name&gt;<span class="w"> </span>-n<span class="w"> </span>&lt;namespace&gt;<span class="w"> </span><span class="se">\</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">  </span>kuadrant.io/coredns-zone-name<span class="o">=</span>k.example.com
</span></code></pre></div></p>
<h3 id="pods-cant-resolve-examplecom-records">Pods Can't Resolve example.com Records<a class="headerlink" href="#pods-cant-resolve-examplecom-records" title="Permanent link">&para;</a></h3>
<p><strong>Cause</strong>: kube-system CoreDNS not configured to forward to BIND9.</p>
<p><strong>Solution</strong>:
Verify forwarding configuration exists in kube-system CoreDNS:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>configmap/coredns<span class="w"> </span>-n<span class="w"> </span>kube-system<span class="w"> </span>-o<span class="w"> </span>yaml
</span></code></pre></div></p>
<p>Should contain:
<div class="language-text highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>example.com:53 {
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>    forward . &lt;CLUSTER_EDGE_NS&gt;
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>}
</span></code></pre></div></p>
<h3 id="active-groups-txt-record-returns-nxdomain">Active-Groups TXT Record Returns NXDOMAIN<a class="headerlink" href="#active-groups-txt-record-returns-nxdomain" title="Permanent link">&para;</a></h3>
<p><strong>Cause</strong>: Rewrite rule not applied or incorrect.</p>
<p><strong>Solution</strong>:</p>
<ol>
<li>
<p>Check kuadrant-coredns Corefile:
   <div class="language-bash highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>configmap/kuadrant-coredns<span class="w"> </span>-n<span class="w"> </span>kuadrant-coredns<span class="w"> </span><span class="se">\</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">  </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.data.Corefile}&#39;</span>
</span></code></pre></div></p>
</li>
<li>
<p>Verify rewrite syntax:
   <div class="language-text highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>rewrite name exact kuadrant-active-groups.k.example.com k.kuadrant-active-groups.example.com
</span></code></pre></div></p>
</li>
<li>
<p>Restart CoreDNS after configuration changes:
   <div class="language-bash highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>kubectl<span class="w"> </span>rollout<span class="w"> </span>restart<span class="w"> </span>-n<span class="w"> </span>kuadrant-coredns<span class="w"> </span>deployment/kuadrant-coredns
</span></code></pre></div></p>
</li>
</ol>
<h2 id="related-documentation">Related Documentation<a class="headerlink" href="#related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../local-development/">CoreDNS Local Development Guide</a> - Getting started with CoreDNS integration</li>
<li><a href="../configuration/">CoreDNS Configuration Reference</a> - Comprehensive configuration options</li>
<li><a href="../configuration/#dns-groups-configuration">DNS Groups Configuration</a> - Active-passive failover setup</li>
<li><a href="../configuration/#provider-secret-configuration">Provider Secret Configuration</a> - CoreDNS provider secrets</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer id="footer" class="footer">
  <div class="copyright">
    <p>Copyright <strong><span>The Kuadrant Contributors</span></strong>.</p>
    <p>The Linux Foundation (TLF) has registered trademarks and uses trademarks.</p> 
    <p>For a list of TLF trademarks, see <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a></p>
  </div>

  <div class="sponsored-by">
    <p>
      <a href="https://www.cncf.io/sandbox-projects/"><img src="../../../../assets/images/cncf-color.png" class="logo" alt="CNCF logo"></a>
    </p>
    <p>
      We are a Cloud Native Computing Foundation sandbox project.
    </p>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.action.edit", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": ["1.3.x", "latest"], "provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../../../assets/strip_callouts.js"></script>
      
    
  </body>
</html>